{"mappings":"YAOA,IAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAcF,SAASC,cAAc,YACrCE,EAAUH,SAASC,cAAc,cAEnCG,EAAO,EACPC,EAAU,EACVC,EAAc,GAIL,SAAJC,EAAiBC,EAAMC,GAI5B,OAAOC,MAAM,GAAaC,OAHV,4BAGmBA,OAFvB,0CAEkB,OAAiFA,OAA5EF,EAAY,kEAAqEE,OAALH,EAAK,kBAAgBI,MAAK,SAAAC,GAErI,GADAC,QAAQC,IAAIF,IACPA,EAASG,GACV,MAAM,IAAIC,MAAMJ,EAASK,YAG7B,OAAOL,EAASM,M,IAqCM,SAArBC,EAAcC,GACrBnB,EAAYoB,UAAYD,EAAOE,KAAI,SAAAC,G,MACnC,6CAC0Cb,OAA1Ba,EAAIC,aAAa,WAGfd,OAHwBa,EAAIE,KAAK,sHAMjCf,OAHAa,EAAIG,MAAM,yEAMPhB,OAHHa,EAAII,MAAM,4EAMNjB,OAHDa,EAAIK,SAAS,6EAGElB,OAAda,EAAIM,UAAU,6C,IAIlCC,KAAK,G,CAlDHhC,EAAKiC,iBAAiB,UAE5B,SAAkBC,GAMd,GALAA,EAAMC,iBAEN5B,EAAc2B,EAAME,cAAcC,YAAYC,MAC9CjC,EAAO,GAEHE,EAEA,YADAJ,EAAYoB,UAAY,IAI5Bf,EAAiBH,EAAME,GAAaM,MAAK,SAAA0B,GAErCxB,QAAQC,IAAIuB,GAETA,IAAoB,IAErBC,MAAM,8EAGRnB,EAAckB,EAAgBE,MAE9BrC,EAAQsC,QAAS,C,IAElBC,OAAM,SAAAC,G,OAAO7B,QAAQC,IAAI4B,E,OA4BNxC,EAAlB6B,iBAAiB,SAEzB,WACE5B,GAAQ,EAERD,EAAQsC,QAAS,EAEjBlC,EAAiBH,EAAME,GAAaM,MAAK,SAAAgC,GAEvCvC,GAAWuC,EAAoBJ,KAAKK,OAEpCzB,EAAcwB,EAAoBJ,MAE9BnC,GAAWuC,EAAoBE,YACjC3C,EAAQsC,QAAS,EAGjBF,MAAM,+DAGRpC,EAAQsC,QAAS,C,IAEhBC,OAAM,SAAAC,G,OAAO7B,QAAQC,IAAI4B,E","sources":["src/index.js"],"sourcesContent":["import './css/styles.css'\n// import fetchCountries from \"./fetchCountries\";\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\n\n\nconst formSearch = document.querySelector('#search-form');\nconst galleryList = document.querySelector('.gallery');\nconst btnLoad = document.querySelector('.load-more');\n\nlet page = 1;\nlet perPage = 0;\nlet searchQuery = '';\n\n\n// Запит на бекенд fetch\nfunction fetchSearchImage(page, searchQuery) {\n    const API_URL = 'https://pixabay.com/api/';\n    const KEY = '?key=32918808-7bed14219e5e11c2127636ebd';\n\n    return fetch(`${API_URL}${KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=400`).then(response => {\n        console.log(response);\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n\n        return response.json();\n    });\n}\n\n\n// Пошук в search\nformSearch.addEventListener('submit', onSearch);\n\nfunction onSearch(event){ \n    event.preventDefault();\n\n    searchQuery = event.currentTarget.searchQuery.value;\n    page = 1;\n\n    if(!searchQuery) {\n        galleryList.innerHTML = '';\n        return;\n    }\n\n    fetchSearchImage(page, searchQuery).then(imgSearchFeatch => {\n\n        console.log(imgSearchFeatch);\n\n        if(imgSearchFeatch === []){\n          // notiflix.\n          alert('\"Sorry, there are no images matching your search query. Please try again.\"');\n        };\n\n        createCardImg(imgSearchFeatch.hits);\n\n        btnLoad.hidden = false;\n\n    }).catch(err => console.log(err));\n};\n\n\n// функція яка робить вертку картинки \nfunction createCardImg(imgArr) {\n  galleryList.innerHTML = imgArr.map(img => \n  `<div class=\"photo-card\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" class=\"photo-img\" />\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes${img.likes}</b>\n        </p>\n        <p class=\"info-item\">\n          <b>Views${img.views}</b>\n        </p>\n        <p class=\"info-item\">\n          <b>Comments${img.comments}</b>\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads${img.downloads}</b>\n        </p>\n      </div>\n  </div>`\n  ).join('')\n};\n\n// при кліку загрузка ще контенту\nbtnLoad.addEventListener('click', onButtonLoadMore);\n\nfunction onButtonLoadMore() {\n  page += 1;\n  \n  btnLoad.hidden = true;\n\n  fetchSearchImage(page, searchQuery).then(imgSearchFeatchMore => {\n    \n    perPage += imgSearchFeatchMore.hits.length;\n\n    createCardImg(imgSearchFeatchMore.hits);\n\n    if (perPage >= imgSearchFeatchMore.totalHits) {\n      btnLoad.hidden = true;\n\n      // notiflix.\n      alert(\"We're sorry, but you've reached the end of search results.\");\n    }\n\n    btnLoad.hidden = false;\n\n  }).catch(err => console.log(err));\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // верстка пошуку країн\n// function createCountryMarkUp(arr) {\n//     countryList.innerHTML = arr.map(({flags: {svg}, name: {official}}) => \n//         `<li>\n//             <img src=\"${svg}\" alt=\"${official}\" width=\"100\">\n//             <h2>${official}</h2>\n//         </li>`\n// ).join('')};\n\n// function createCardImg(imgArr) {\n//     imgRander.innerHTML = imgArr.map((img) => \n//     `<img src=\"${}\" alt=\"${official}\" width=\"50\">\n//     <span>${official}</span>\n//     <div>\n//       <span>Capital:</span>\n//       <span>${capital}</span>\n//     </div>\n//     <div>\n//       <span>Population:</span>\n//       <span>${population}</span>\n//     </div>\n//     <div>\n//       <span>Languages:</span>\n//       <span>${Object.values(languages).join(', ')}</span>\n//     </div>`\n// ).join('')};\n\n\n// функция фетч возрощяет апи стран\n// function fetchCountries(name){\n//     const BASE_URL = 'https://restcountries.com/v3.1/name';\n//     const fields = '?fields=name,capital,population,flags,languages';\n\n//   return fetch(`${BASE_URL}${name}${fields}`)\n//     .then(response => {\n//         console.log(response);\n \n        \n//         if (!response.ok) {\n//             throw new Error(response.statusText);\n//         }\n\n//         return response.json();\n//     });\n// };\n\n// fetchCountries('peru');\n\n\n\n// функція евент по пошуку картинок та країн з завдання 10\n// formSearch.addEventListener('submit', onSearch);\n\n// function onSearch(event){ \n//     event.preventDefault();\n\n//     let inputSearch = event.currentTarget.searchQuery.value;\n    \n//     if(!inputSearch) {\n//         galleryList.innerHTML = '';\n//         return;\n//     }\n\n//     fetchSearchImage(page, inputSearch).then(imgSearchFeatch => {\n//         console.log(imgSearchFeatch);\n\n//         createCardImg(imgSearchFeatch);\n\n//         // if(countryFetch.length > 10){\n//         //     // Notify.info();\n//         //     console.log('info')\n//         // }\n\n//         // if (countryFetch.length >= 2 && countryFetch.length <= 10) {\n//         //     // список країн\n//         //     createCountryMarkUp(countryFetch);\n//         //     countryInfo.innerHTML = '';\n//         // }\n\n//         // if (countryFetch.length === 1) {\n//         //     createCountryMarUpAll(countryFetch);\n//         //     countryList.innerHTML = '';\n//         // }\n//     }).catch(err => console.log(err));\n// };\n\n\n\n\n\n\n//  функція по кліку рендерить картку на екран\n// <button class=\"btn\">click</button>\n\n// const btn = document.querySelector('.btn');\n\n// btn.addEventListener('click', onButtonClick);\n\n\n// const arr = [\n//   {\n//     url: './girl3.jpg',\n//     title: 'Girl',\n//     like: 12,\n//     views: 25,\n//     comment: 53,\n//   },\n//   {\n//     url: './girl3.jpg',\n//     title: 'Girl',\n//     like: 110,\n//     views: 252,\n//     comment: 520,\n//   },\n//   {\n//     url: './girl3.jpg',\n//     title: 'Girl',\n//     like: 198,\n//     views: 258,\n//     comment: 56,\n//   },\n// ]\n\n// //  верстка однієї картки\n// function createCardImg(arr) {\n//     galleryList.innerHTML = arr.map((img) => {\n//     `<div class=\"photo-card\">\n//     <img src=\"${img.url}\" alt=\"${img.title}\" loading=\"lazy\" />\n//     <div class=\"info\">\n//       <p class=\"info-item\">\n//         <b>Likes ${img.like}</b>\n//       </p>\n//       <p class=\"info-item\">\n//         <b>Views ${img.views}</b>\n//       </p>\n//       <p class=\"info-item\">\n//         <b>Comments ${img.comment}</b>\n//       </p>\n//       <p class=\"info-item\">\n//         <b>Downloads</b>\n//       </p>\n//     </div>\n//   </div>`\n//     }).join('')};\n\n// function onButtonClick() {\n\n//   createCardImg(arr);\n// }"],"names":["$b8f9b7833fa37166$var$formSearch","document","querySelector","$b8f9b7833fa37166$var$galleryList","$b8f9b7833fa37166$var$btnLoad","$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$perPage","$b8f9b7833fa37166$var$searchQuery","$b8f9b7833fa37166$var$fetchSearchImage","page1","searchQuery1","fetch","concat","then","response","console","log","ok","Error","statusText","json","$b8f9b7833fa37166$var$createCardImg","imgArr","innerHTML","map","img","webformatURL","tags","likes","views","comments","downloads","join","addEventListener","event","preventDefault","currentTarget","searchQuery","value","imgSearchFeatch","alert","hits","hidden","catch","err","imgSearchFeatchMore","length","totalHits"],"version":3,"file":"index.2449d84a.js.map"}